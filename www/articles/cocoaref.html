<html>
<head>
<title>Cocoa/Objective-C reference</title>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<link rel="stylesheet" href="/static/js/jquery.tooltip.css" /> 
<script src="/static/js/lib/jquery.bgiframe.js" type="text/javascript"></script>
<script src="/static/js/lib/jquery.dimensions.js" type="text/javascript"></script>
<script src="/static/js/jquery.tooltip.pack.js" type="text/javascript"></script>

<style type="text/css">
body {  font-family: Arial, Helvetica, sans-serif; font-size: 12px}
td { font-family: Arial, Helvetica, sans-serif; font-size: 12px }
a { color: #000088; text-decoration: none}
a:hover {  text-decoration: underline }
.methodslist {font-size: 10px; }
.methods { 
  word-spacing: 0.25em;
  font-size: 10px;
  padding-left: 15px;
  padding-top: 0px;
}
.className {
  font-size: 120%;
  font-weight: bold;
}

</style>

<script type="text/javascript">
/*
String.prototype.replaceAll = function(from, to)
{
  var idxPrev = 0;
  var lenDiff = from.length - to.length;
  var res = "";
  var s = this;
  var idx = s.indexOf(from, idxPrev);
  while (idx != -1)
  {
    res += s.substring(idx, idxPrev);
    res += to;
    idxPrev = idx + lenDiff;
    idx = s.indexOf(from, idxPrev);
  }
  res += s.substring(idxPrev, s.length);
  return res;
}*/

var appleDocsStartUrl = "http://developer.apple.com/documentation/Cocoa/Reference/";
var cocoaDevStartUrl = "http://www.cocoadev.com/index.pl?";
// #//apple_ref/occ/instm/NSArray/objectAtIndex:
// #//apple_ref/occ/clm/NSNotificationCenter/defaultCenter

/* Styles of class reference urls:
http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html
http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html
http://developer.apple.com/documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html
*/

var methods = [
  ["NSObject",
    "-(void) performSelectorOnMainThread:(SEL)aSelector withObject:(id)arg waitUntilDone:(BOOL)wait",
  ],
  ["NSString",
    "+(NSString*) stringWithFormat:(NSString*)",
    "-(NSUInteger) length",
    "-(NSString*) stringByReplacingOccurrencesOfString:(NSString*) withString:(NSString*)",
    "-(BOOL) isEqualToString:(NSString*)",
    "-(NSRange) rangeOfString:(NSString*)",
    "-(NSArray*) componentsSeparatedByString:(NSString*)",
  ],
  ["NSArray",
    "+(NSArray*) arrayWithObjects:(...)",
    "+(NSArray*) arrayWithObject:(id)",
    "-(id) objectAtIndex:(int)",
    "-(NSString*) componentsJoinedByString:(NSString*)separator"
  ],
  ["NSDictionary",
    "+(id) dictionaryWithObject:(id)anObject forKey:(id)aKey",
    "+(id) dictionaryWithObjects:(NSArray*)objects forKeys:(NSArray*)keys",
    "-(NSUInteger) count",
    "-(NSArray*) allKeys",
    "-(NSArray*) allValues",
    "-(id) objectForKey:(id)",
  ],
  ["NSData",
    "+(id) dataWithContentsOfFile:(NSString*)path",
    "+(id) dataWithContentsOfURL:(NSURL*)aURL",
    "-(NSUInteger) length",
    "-(const_void*) bytes",
    "-(void) getBytes:(void*)buffer length:(NSUInteger)length",
    "-(void) getBytes:(void*)buffer range:(NSRange)range",
    "-(BOOL) writeToFile:(NSString*)path atomically:(BOOL)flag",
  ],
  ["NSComparisonResult",
    "NSOrderedAscending",
    "NSOrderedSame",
    "NSOrderedDescending",
  ],
  ["NSRange",
    "NSRange NSMakeRange(NSUInteger loc, NSUInteger len)",
    "BOOL NSEqualRanges(NSRange range1, NSRange range2)",
  ],
  ["NSRect"
  ],
  [ "NSDate",
    "+(NSDate*) date",
    "-(NSComparisonResult) compare:(NSDate*)anotherDate",
  ],
  [ "NSCalendarDate",
    "+(NSCalenderDate*) dateWithString:(NSString*)",
    "-(NSCalendarDate*) addTimeInterval:(NSInterval)",
  ],
  [ "NSNotificationCenter",
    "+(NSNotificationCenter*) defaultCenter",
    "-(void) addObserver:(id) selector:(NSSelector*) name:(NSString*) object:(id)",
  ],
  [ "NSNotification",
    "-(id) object",
    "-(NSString*) name",
    "-(NSDictionary*) userInfo",
  ],
  [ "NSFileManager",
    "+(NSFileManager*) defaultManager",
    "-(BOOL) movePath:(NSString*)source toPath:(NSString*)destination handler:(id)handler",
    "-(BOOL) moveItemAtPath:(NSString*)srcPath toPath:(NSString*)dstPath error:(NSError**)error",
    "-(BOOL) copyPath:(NSString*)source toPath:(NSString*)destination handler:(id)handle",
    "-(BOOL) removeFileAtPath:(NSString*)path handler:(id)handler",
    "-(BOOL) createDirectoryAtPath:(NSString*)path attributes:(NSDictionary*)attributes",
    "-(NSArray*) directoryContentsAtPath:(NSString*)path",
    "-(BOOL) fileExistsAtPath:(NSString*)path",
    "-(BOOL) fileExistsAtPath:(NSString*)path isDirectory:(BOOL*)isDirectory",
    "-(BOOL) changeCurrentDirectoryPath:(NSString*)path",
    "-(NSString*) currentDirectoryPath",
  ],
  [ "NSUserDefaults",
    "+(NSUserDefaults*) standardUserDefaults",
    "-(id) objectForKey:(NSString*)defaultName",
    "-(BOOL) boolForKey:(NSString*)defaultName",
    "-(NSInteger) integerForKey:(NSString*)defaultName",
    "-(NSString*) stringForKey:(NSString*)defaultName",
    "-(NSDictionary*) dictionaryForKey:(NSString*)defaultName",
    "-(NSArray*) arrayForKey:(NSString*)defaultName",
    "-(void) removeObjectForKey:(NSString*)defaultName",
    "-(void) setObject:(id)value forKey:(NSString*)defaultName",
    "-(void) setBool:(BOOL)value forKey:(NSString*)defaultName",
    "-(void) registerDefaults:(NSDictionary*)dictionary",
  ],
  ["NSThread",
    "+(void) detachNewThreadSelector:(SEL)aSelector toTarget:(id)aTarget withObject:(id)anArgument",
    "+(void) sleepUntilDate:(NSDate*)aDate",
    "+(void) sleepForTimeInterval:(NSTimeInterval)ti",
  ],
  [ "NSApplication",
    "+(NSApplication*) sharedApplication",
    "-(void) terminate:(id)sender",
    "-(void) applicationDidFinishLaunching:(NSNotification*)aNotification",
    "-(NSApplicationTerminateReply) applicationShouldTerminate:(NSApplication*)sender",
    "-(BOOL) applicationShouldTerminateAfterLastWindowClosed:(NSApplication*)theApplication",
    "-(BOOL) application:(NSApplication*)theApplication openFile:(NSString*)filename",
    "-(void) application:(NSApplication*)sender openFiles:(NSArray*)filenames",
    "-(NSMenu*) applicationDockMenu:(NSApplication*)sender",
  ],
  [ "NSBundle",
    "+(NSBundle*) mainBundle",
    "+(NSBundle*) bundleForClass:(Class)aClass",
    "-(NSString*) pathForResource:(NSString*)name ofType:(NSString*)extension",
    "-(NSDictionary*) infoDictionary",
  ],
  ["NSControl",
    "-(NSString*) stringValue",
    "-(void) setEnabled:(BOOL)flag",
    "-(BOOL) isEnabled",
  ],
  ["NSView",
    "-(void) setHidden:(BOOL)flag",
    "-(BOOL) isHidden",
    "-(NSRect) bounds",
    "-(NSRect) frame",
    "-(NSWindow*) window",
    "-(void) setNeedsDisplay:(BOOL)flag",
    "-(void) drawRect:(NSRect)dirtyRect",
  ],
  ["NSWindow",
     "-(void) orderFront:(id)sender",
    "-(id) contentView",
  ],
  ["NSButton",
    "-(void) setTitle:(NSString *)aString",
    "-(NSString*) title",
  ],
  ["NSProgressIndicator",
    "-(void) startAnimation:(id)sender",
    "-(void) stopAnimation:(id)sender",
  ],
  ["NSImage",
    "-(id) initWithContentsOfFile:(NSString*)filename",
  ],
  ["NSProcessInfo",
    "+(NSProcessInfo*) processInfo",
    "-(NSString*) processName",
    "-(NSInteger) runModalForWindow:(NSWindow*)",
  ],
  ["NSNibAwaking",
    "-(void) awakeFromNib",
  ]
];

// different types require different ways of constructing url to apple docs
var appKitClasses = ["NSApplication", "NSWindow", "NSImage", "NSProgressIndicator", "NSControl", "NSButton"];
var appKitClasses2 = ["NSView"]
var appKitProtocols = ["NSNibAwaking"];
var foundationClasses1 = ["NSString"];
var foundationClasses2 = ["NSObject", "NSThread", "NSFileManager", "NSData", "NSNotification", "NSUserDefaults", "NSProcessInfo", "NSArray", "NSDictionary", "NSCalendarDate", "NSNotificationCenter", "NSDate", "NSBundle"];

function inArray(arr, o) {
  return -1 == arr.indexOf(o) ? false : true;
};

function infoForClass(className) {
  for (var i = 0; i < methods.length; i++) {
    var classDesc = methods[i];
    var className2 = classDesc[0];
    if (className == className2)
      return classDesc;
  }
  return undefined;
};

function isClassMethodName(s) {
  return s.charAt(0) == '+';
}

function isInstanceMethodName(s) {
  return s.charAt(0) == '-';
}

function methodHasArgs(s) {
  return -1 != s.indexOf(':');
}

function isObjectiveCName(s) {
  return isClassMethodName(s) || isInstanceMethodName(s);
}

function shortNameObjectiveC(s) {
  var parts = s.split(' ');
  if (1 == parts.length)
    return parts[0];

  var res = [];
  for (var i = 1; i < parts.length; i++) {
    var s = parts[i];
    res.push(s.split(':')[0]);
  }
  var r = res.join(":");
  if (methodHasArgs(s))
    r += ":";
  return r;
}

function shortNameC(s) {
  var parts = s.split(' ');
  if (1 == parts.length)
    return parts[0];
  var parts2 = parts[1].split('(');
  return parts2[0];
}

function shortMethodName(s) {
  return isObjectiveCName(s) ? shortNameObjectiveC(s) : shortNameC(s);
}

function hasAppleUrlForClass(className) {
  var exceptions = ["NSRange", "NSRect", "NSComparisonResult"];
  return !inArray(exceptions, className);
}

function appleUrlForClass(className) {
  if (inArray(appKitClasses, className))
    return "http://developer.apple.com/documentation/Cocoa/Reference/ApplicationKit/Classes/" + className + "_Class/Reference/Reference.html";
  else if (inArray(appKitClasses2, className))
    return "http://developer.apple.com/documentation/Cocoa/Reference/ApplicationKit/Classes/" + className + "_Class/Reference/" + className + ".html";
  else if (inArray(appKitProtocols, className))
    return "http://developer.apple.com/documentation/Cocoa/Reference/ApplicationKit/Protocols/" + className + "_Protocol/Reference/Reference.html";
  else if (inArray(foundationClasses1, className))
    return "http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/" + className + "_Class/Reference/" + className + ".html";
  else if (inArray(foundationClasses2, className))
    return "http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/" + className + "_Class/Reference/Reference.html";
  else
    return undefined;
}

function appleUrlPartForMethod(className, methodName) {
  var shortName = shortMethodName(methodName);
  if (isClassMethodName(methodName))
    return "#//apple_ref/occ/clm/" + className + "/" + shortName;
  else
    return "#//apple_ref/occ/instm/" + className + "/" + shortName;
}

function appleUrlForMethod(className, methodName) {
  return hasAppleUrlForClass(className) ? appleUrlForClass(className) + appleUrlPartForMethod(className, methodName) : undefined;
}

$(document).ready(function() {
  $("a").tooltip({
    showURL: false
  });
});

</script>

</head>

<body bgcolor="#FFFFFF" text="#000000" leftmargin="0" topmargin="0" marginwidth="10" marginheight="10">

<script type="text/javascript">
var columns = 3;
var allClasses = [];
var classesForColumn = [];
for (var i = 0; i < columns; i++) {
  classesForColumn[i] = [];
}

for (var i = 0; i < methods.length; i++) {
  var className = methods[i][0];
  allClasses.push(className);
  for (var col = 0; col < columns; col++) {
    if (i % columns == col)
      classesForColumn[col].push(className);
  }
}

document.write("<p class=methodslist>" + allClasses.sort().join(" &bull; ") + "</p>");

function headerRow(className) {
  var s = '';
  s += '<tr valign="top">';
  s += ' <td align="left" valign="middle">';
  s += ' <span class="className">'
  if (hasAppleUrlForClass(className)) {
    url = appleUrlForClass(className);
    s += '  <a href="' + url + '">' + className + '</a>';
  } else {
    s += className;
  }
  s += ' </span>'
  s += ' </td>';

  s += '</tr>';
  return s;
}

function methodNamePrettify(s) {
  // hack: because my tokenization in shortMethodName is weak, I have to
  // sometimes substitute spaces with "_" so now I have to undo it
  s = s.replace("_", " ");
  if (s.charAt(0) == '-' || s.charAt(0) == '+' && s.charAt(0) != ' ') {
    s = s.charAt(0) + " " + s.substring(1);
  }
  // TODO: use replaceAll when it works
  s = s.replace("*)", " *)");
  return s;
}

function contentRow(className) {
  var hasUrl = hasAppleUrlForClass(className);
  var s = '';
  s += '<tr valign="top">';
  s += ' <td valign="middle" class="methods">';
  var info = infoForClass(className);
  for (var i = 1; i < info.length; i++) {
    var methodName = info[i];
    var name = shortMethodName(methodName);
    if (hasUrl) {
      var url = appleUrlForMethod(className, methodName);
      s += ' <a title="' + methodNamePrettify(methodName) + '" href="' + url + '">' + name + "</a>";
    } else {
      s += name;
    }
    s += "<br>"
  }
  s += '</td>';
  s += '</tr>';
  return s;
}

function classesHtml(classes) {
  var s = '';
  for (var i = 0; i < classes.length; i++) {
    className = classes[i];
    s += headerRow(className);
    s += contentRow(className);
  }
  return s;
}

function columnHtml(classes) {
  var columnWidth = 100 / columns;
  var s = '';
  s += '<td width="' + columnWidth + '%">';
  s += '<table width="100%" border="0" cellspacing="0" cellpadding="5">';
  s += classesHtml(classes);
  s += '</table>';
  s += '</td>';
  return s;
}

function columnsHtml() {
  var s = '';
  for (var i = 0; i < columns; i++) {
    var classes = classesForColumn[i];
    s += columnHtml(classes);
  }
  return s;
}

</script>

<table width="100%" border="0" cellspacing="0" cellpadding="0">

  <tr valign="top">
      <script>
        var s = columnsHtml();
        document.write(s);
      </script>
  </tr>

</table>

<hr>
<center>Cocoa and Objective-C reference by <a href="/">Krzysztof Kowalczyk</a></center>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-194516-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  
</body>
</html>

